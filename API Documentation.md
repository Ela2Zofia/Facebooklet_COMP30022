# API documentation for frontend


## 2. Contacts
### 1. Route
```javascript
HOST_CONTACTS = "api/contacts"
```

### 2.Sample Data Structure
```json
{
      "id": 1,
      "firstName": "Derrick",
      "lastName": "Li",
      "occupation": "Google CEO",
      "email": "derrickli824@gmail.com",
      "phone": "+61450205002",
      "tag": [
        "people",
        "crazy_smart"
      ],
      "description": "Some"
}
```
### 3. APIs
```javascript
static async addContactNet(user, contact) {
    const res = await fetch(this.HOST_CONTACTS, {
      method: "POST",
      headers: {
        "Content-type": "application/json",
        // TODO: user header
        "User": user
      },
      body: JSON.stringify(contact)
    });
    
    if(!res.ok){
      throw new Error(`HTTP error! status: ${res.status}`);
    }

    const data = await res.json()
    return data;
  };
```
**Input:** a contact object described at the top of this document.  
**Expected return value:** a contact object that has and “_id” field that is generated by MongoDB
```javascript
  static async fetchContactsNet(user){
    const HOST = this.HOST_CONTACTS+"?_sort=firstName";
    const res = await fetch(HOST, {
      method: "GET",
      headers: {
        "Content-type": "application/json",
  
        // TODO: user header
        "User": user
      }
    });

    if(!res.ok){
      throw new Error(`HTTP error! status: ${res.status}`);
    }

    const data = await res.json();
    return data;
  }
```
**Expected return value:** a list of contacts that the USER has, sorted by firstName in alphabetical order (A-Z a-z)

```javascript
  static async delContactNet(user, id){
    const HOST = this.HOST_CONTACTS + "/" +id;
    const res = await fetch(HOST, {
      method: "DELETE",
      headers: {
        "Content-type": "application/json",
        // TODO: user header
        "User": user
      }
    });

    if(!res.ok){
      throw new Error(`HTTP error! status: ${res.status}`);
    }
  };
```
**Input:** id of the contact to be deleted encoded in the request URL  
**Expected return value:** None


```javascript
  static async editContactNet(user, contact){
    const HOST = this.HOST_CONTACTS + "/" +contact._id;
    const res = await fetch(HOST, {
      method: "PUT",
      headers:{
        "Content-type": "application/json",
        // TODO: user header
        "User": user
      },
      body: JSON.stringify(contact)
    })

    if(!res.ok){
      throw new Error(`HTTP error! status: ${res.status}`);
    }
  };
```
**Input:** a contact JSON object described at the top of this document, and id of the contact to be changed encoded in the request URL  
**Expected return value:** None


```javascript
  static async searchContactNet(user, text){
    const HOST = this.HOST_CONTACTS + "?_sort=firstName&q=" + text;
    const res = await fetch(HOST, {
      method: "GET",
      headers:{
        "Content-type": "application/json",
        // TODO: user header
        "User": user
      },
    })

    if(!res.ok){
      throw new Error(`HTTP error! status: ${res.status}`);
    }

    const data = await res.json();
    return data;
  }
```
**Input:** text encoded as a query in the request URL  
**Expected return value:** a list of contact objects, search by their firstName, lastName, occupation and tag. Ordered in alphabetical order.
## 3. Meetings
### 1. Route
```javascript
HOST_MEETINGS = "/api/meetings"
```

### 2.Sample Data Structure
```json
{
        "topic": "Untitled",
        "meetingNumber": "111222",
        "link": "http://meeting.com",
        "date": "2021-10-13",
        "time": "04:33",
        "duration": 750,
        "participants": [
        {
            "_id": 12,
            "firstName": "Jiawei",
            "lastName": "Li",
            "occupation": "Student",
            "email": "derrickli824@gmail.com",
            "phone": "+61450205002",
            "tag": [],
            "description": "best programmer --- in the world",
            "id": 12
        }
    ],
        "description": "This is a test",
        "id": 1
}
```
### 3. APIs
```javascript
static async fetchMeetingsNet(user){
        const HOST = this.HOST_MEETINGS+"?_sort=firstName";
        const res = await fetch(HOST, {
            method: "GET",
            headers: {
                "Content-type": "application/json",

                // TODO: user header
                "User": user
            }
        });

        if(!res.ok){
            throw new Error(`HTTP error! status: ${res.status}`);
        }

        const data = await res.json();
        return data;
    }
```
```javascript
    static async addMeetingsNet(user, meeting) {
        const res = await fetch(this.HOST_MEETINGS, {
            method: "POST",
            headers: {
                "Content-type": "application/json",
                // TODO: user header
                "User": user
            },
            body: JSON.stringify(meeting)
        });

        if(!res.ok){
            throw new Error(`HTTP error! status: ${res.status}`);
        }

        const data = await res.json()
        return data;
    };
```
```javascript
    static async delMeetingNet(user, id){
        const HOST = this.HOST_MEETINGS + "/" +id;
        const res = await fetch(HOST, {
            method: "DELETE",
            headers: {
                "Content-type": "application/json",
                // TODO: user header
                "User": user
            }
        });

        if(!res.ok){
            throw new Error(`HTTP error! status: ${res.status}`);
        }
    };
```
```javascript
    static async editMeetingNet(user, meeting){
        const HOST = this.HOST_MEETINGS + "/" +meeting._id;
        const res = await fetch(HOST, {
            method: "PUT",
            headers:{
                "Content-type": "application/json",
                // TODO: user header
                "User": user
            },
            body: JSON.stringify(meeting)
        })

        if(!res.ok){
            throw new Error(`HTTP error! status: ${res.status}`);
        }
    };

}
```



